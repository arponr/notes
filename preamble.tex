\documentclass[10pt]{amsart}

\usepackage[%
  tmargin=1.2in,bmargin=1.2in,%
  lmargin=1.8in,rmargin=1.8in,%
]{geometry}
\usepackage{marginnote}
\usepackage{fancyhdr}
\usepackage{microtype}
\usepackage{etoolbox}
\usepackage{ifthen}
\usepackage[hyphens]{url}
\usepackage{enumitem}
\usepackage{array}
\usepackage{appendix}
\usepackage{hyperref}
\usepackage{titlesec}

\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{tikz}
\usepackage{tikz-cd}

\usepackage{lmodern}
\usepackage[cal=euler]{mathalfa}

\frenchspacing

\definecolor{darkred}{rgb}{0.5,0.0,0.2}
\hypersetup{
  colorlinks=true,
  linkcolor=darkred,
  citecolor=darkred,
  urlcolor=darkred,
}

%\renewcommand{\fullwidthdisplay}{}

\renewcommand*{\marginfont}{\color{gray}\small}

\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\fancyhf{}
\fancyfoot[C]{\vspace{1ex}\small\thepage}

\renewcommand{\title}[1]{\newcommand{\thetitle}{#1}}
\renewcommand{\author}[1]{\newcommand{\theauthor}{#1}}
\renewcommand{\date}[1]{\newcommand{\thedate}{#1}}

\renewcommand{\maketitle}{%
  \begin{center}
    \textbf{\MakeUppercase{\thetitle}}\\[1.5ex]
    {\footnotesize\MakeUppercase{\theauthor}}\\[2.5ex]
    \ifthenelse{\equal{\thedate}{}}{}{
      \small
      \setlength{\tabcolsep}{0.2em}
      \begin{tabular}{rl}
        original: & \thedate \\
        updated: & \today
      \end{tabular}
    }
  \end{center}
  \thispagestyle{empty}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\A}{\mathrm{A}}
\newcommand{\B}{\mathrm{B}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\D}{\mathrm{D}}
\newcommand{\E}{\mathrm{E}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\G}{\mathrm{G}}
\renewcommand{\H}{\mathrm{H}}
\newcommand{\I}{\mathrm{I}}
\newcommand{\J}{\mathrm{J}}
\newcommand{\K}{\mathrm{K}}
\renewcommand{\L}{\mathrm{L}}
\newcommand{\M}{\mathrm{M}}
\newcommand{\N}{\mathbb{N}}
\renewcommand{\O}{\mathrm{O}}
\renewcommand{\P}{\mathbb{P}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\renewcommand{\S}{\mathrm{S}}
\newcommand{\T}{\mathrm{T}}
\newcommand{\U}{\mathrm{U}}
\newcommand{\V}{\mathrm{V}}
\newcommand{\W}{\mathrm{W}}
\newcommand{\X}{\mathrm{X}}
\newcommand{\Y}{\mathrm{Y}}
\newcommand{\Z}{\mathbb{Z}}

\usetikzlibrary{arrows}
\tikzcdset{
  arrow style=tikz,
  diagrams={>={stealth}},
}

\newcommand{\arrlen}{0.4}
\renewcommand{\to}{\mathrel{\tikz[baseline]%
    \draw[>=stealth,->](0,0.5ex)--(\arrlen,0.5ex);}}
\renewcommand{\from}{\mathrel{\tikz[baseline]%
    \draw[>=stealth,<-](0,0.5ex)--(\arrlen,0.5ex);}}
\newcommand{\lblto}[1]{\mathrel{\tikz[baseline]%
    \draw[>=stealth,->,font=\scriptsize,inner sep=1.5pt]%
    (0,0.5ex)--node[above]{$\!#1$}(\arrlen,0.5ex);}}
\renewcommand{\mapsto}{\mathrel{\tikz[baseline]%
    \draw[>=stealth,|->](0,0.5ex)--(\arrlen,0.5ex);}}
\newcommand{\inj}{\mathrel{\tikz[baseline]%
    \draw[>=stealth,right hook->](0,0.5ex)--(\arrlen,0.5ex);}}
\newcommand{\surj}{\mathrel{\tikz[baseline]%
    \draw[>=stealth,->>](0,0.5ex)--(\arrlen,0.5ex);}}
\newcommand{\isoto}{\mathrel{\tikz[baseline]%
    \draw[>=stealth,->,font=\scriptsize,inner sep=1pt]%
    (0,0.5ex)--node[above]{$\!\sim$}(\arrlen,0.5ex);}}
\newcommand{\doubto}{%
  \hspace{3pt}%
  \begin{tikzpicture}[baseline]%
    \draw[>=stealth,->](0,0.15ex)--(\arrlen,0.15ex);%
    \draw[>=stealth,->](0,0.85ex)--(\arrlen,0.85ex);%
  \end{tikzpicture}%
  \hspace{3pt}}

\renewcommand{\l}{\left}
\renewcommand{\r}{\right}
\newcommand{\f}{\frac}
\renewcommand{\o}{\overline}
\renewcommand{\u}{\underline}
\newcommand{\til}{\widetilde}
\newcommand{\del}{\partial}
\newcommand{\dash}{\text{-}}
\renewcommand{\c}{\colon}
\newcommand{\ce}{\mathrel{:=}}
\newcommand{\ec}{\mathrel{=:}}
\newcommand{\iso}{\simeq}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \renewcommand{\thesection}{\Roman{section}} 
% \renewcommand{\thesubsection}{\thesection.\Roman{subsection}}

\cspreto{section}{%
  \setcounter{equation}{0}%
  \numberwithin{equation}{section}%
}

\cspreto{subsection}{%
  \setcounter{equation}{0}%
  \numberwithin{equation}{subsection}%
}

\titleformat{\section}{\centering}{\thesection.}{0.4em}{\scshape}
\titlespacing{\section}{0pt}{*4}{*1}
\titleformat{\subsection}{\bfseries\Large}{\thesubsection.}{0.4em}{}
\titlespacing{\subsection}{0pt}{*2}{*1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\makeatletter
\def\swappedhead#1#2#3{%
  \thmnumber{\@upn{%
      #2\@ifnotempty{#1}{.\hspace{0.3em}}%
    }%
  }%
  \the\thm@headfont\thmname{#1}%
  \thmnote{ {\the\thm@notefont(#3)}}%
}

\renewenvironment{proof}[1][Proof]{\par
  \pushQED{\qed}%
  \normalfont
  \topsep1ex plus 0.2ex minus 0.1ex\relax
  \labelsep 0.4em\relax
  \trivlist
  \item[\hskip\labelsep
        \bfseries
    #1\@addpunct{.}]\ignorespaces
}{%
  \popQED\endtrivlist\@endpefalse
}
\makeatother

\swapnumbers

\newtheoremstyle{block}
{1ex plus 0.2ex minus 0.1ex}% Space above
{1ex plus 0.2ex minus 0.1ex}% Space below
{}% Body font
{}% Indent amount
{\bfseries}% Theorem head font
{.}% Punctuation after theorem head
{0.4em}% Space after theorem head
{}% Theorem head spec (can be left empty, meaning ‘normal’)

\theoremstyle{block}

\newtheorem{theorem}[equation]{Theorem}
\newtheorem{proposition}[equation]{Proposition}
\newtheorem{lemma}[equation]{Lemma}
\newtheorem{corollary}[equation]{Corollary}
\newtheorem{conjecture}[equation]{Conjecture}
\newtheorem{question}[equation]{Question}
\newtheorem{exercise}[equation]{Exercise}

\newtheorem{nothing}[equation]{}
\newtheorem{definition}[equation]{Definition}
\newtheorem{definitions}[equation]{Definitions}
\newtheorem{notation}[equation]{Notation}
\newtheorem*{notation*}{Notation}
\newtheorem{convention}[equation]{Convention}
\newtheorem*{convention*}{Convention}
\newtheorem{situation}[equation]{Situation}
\newtheorem{remark}[equation]{Remark}
\newtheorem{remarks}[equation]{Remarks}
\newtheorem{example}[equation]{Example}
\newtheorem{examples}[equation]{Examples}
\newtheorem{algorithm}[equation]{Algorithm}
\newtheorem{construction}[equation]{Construction}
\newtheorem{goal}[equation]{Goal}

\setlist{leftmargin=3em, itemsep=2pt, topsep=2pt}
\setlist[enumerate, 1]{%
  label=(\alph*),%
  ref=\alph*,%
  widest=d,
}
\setlist[enumerate, 2]{%
  label=(\roman*),%
  ref=\theenumi.\roman*,%
}
\setlist[itemize, 1]{%
  label=$\vcenter{\hbox{\footnotesize$\bullet$}}$,%
}
\setlist[itemize, 2]{label=--}

\renewcommand{\eqref}[2][]{%
  \ifthenelse{\equal{#1}{}}{%
    (\ref{#2})%
  }{%
    (\hyperref[#1]{\ref*{#2}.\ref*{#1}})%
  }%
}
      